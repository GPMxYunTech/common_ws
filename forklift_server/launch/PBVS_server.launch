<launch>
<node pkg="forklift_server" type="PBVS_server.py" name="PBVS_server" output="screen"/>
    <!--Subscriber Topic setting/-->
    <param name="odom" value="/odom" /><!--里程計 Topic（map -> base_link, 是tf相對關係, 非輪式里程計）/-->
    <param name="tag_detections_up" value="/tag_detections_up" /><!--車體相機對位AprilTag Topic/-->
    <param name="tag_detections_down" value="/tag_detections_down" /><!--牙叉相機對位AprilTag Topic/-->
    <param name="forkpos" value="/forkpos" /><!--牙叉編碼器回傳Topic/-->

    <!--bodycamera parking setting/-->
    <param name="bodycamera_parking_fork_init" value = 0.392 /><!--車體相機對位初始牙叉高度/-->
    <param name="bodycamera_ChangingDirection_threshold" value = 0.01 />  <!--正對Tag(atan2(y, x) <= threshold)/-->
    <param name="bodycamera_parking_stop" value = 1.8 />  <!--車體相機對位停止距離/-->
    <param name="bodycamera_Changingtheta_threshold" value = 0.1 />  <!--平行Tag(theta <= threshold)/-->
    <param name="bodycamera_decide_distance" value = 0.04 />  <!--將相機平行Tag之後，左右y距離誤差幾公尺內可以將牙叉插進去，如果不行的話就後退重新對位/-->
    <param name="bodycamera_back_distance" value = 3.0 />  <!--重新對位時後退的距離/-->

    <!--forkcamera parking setting/-->
    <param name="forkcamera_parking_fork_init" value = 0.211 /><!--牙叉相機對位初始牙叉高度, 為了將牙叉相機與棧板高度一致/-->
    <param name="forkcamera_ChangingDirection_threshold" value = 0.01 />  <!--正對Tag(atan2(y, x) <= threshold) threshold/-->
    <param name="forkcamera_parking_stop" value = 1.43 /><!--牙叉相機對位停止距離/-->
    <param name="forkcamera_Changingtheta_threshold" value = 0.1 />  <!--平行Tag(theta <= threshold)/-->
    <param name="forkcamera_back_distance" value = 3.0 />  <!--重新對位時後退的距離/-->
    
    <!--Raise the pallet setting/-->
    <param name="up_fork_fork_init" value = 0.4576 /><!--插起棧板的初始牙叉高度/-->
    <param name="up_fork_move_to_marker_dist" value = 0.4576 /><!--向後直線移動到距離Tag多少公尺的地方/-->
    <param name="up_fork_fork_forward_distance" value = 0.7 /><!--牙叉前伸的距離/-->
    <param name="up_fork_raise_" value = 0.7 /><!--牙叉後伸的距離/-->
    <!--Drop the pallet setting/-->
    <param name="down_fork_fork_init" value = 0.86 /><!--放下棧板的初始牙叉高度/-->
    <param name="down_fork_dead_reckoning_dist" value = -0.85 /><!--使用里程計計算直走(正值)或後退(負值)距離，因為牙叉升起有可能會擋到Tag，因此改用里程計計算/-->
    <param name="down_fork_fork_forward_distance" value = 0.68 /><!--牙叉前伸的距離/-->

</launch>
